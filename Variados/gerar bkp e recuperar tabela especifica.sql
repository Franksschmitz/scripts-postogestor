-- TABELA BKP

CREATE TABLE ABASTECIMENTO_BKP AS (SELECT * FROM ABASTECIMENTO WHERE DT_EMISSAO BETWEEN '2020-01-01' AND '2020-09-15 23:59:59');

-- RECUPERAR BKP FORMA 1

DELETE FROM ABASTECIMENTO WHERE DT_EMISSAO BETWEEN '2020-01-01' AND '2020-09-15 23:59:59';
INSERT INTO ABASTECIMENTO () VALUES (SELECT * FROM ABASTECIMENTO WHERE DT_EMISSAO BETWEEN '2020-01-01' AND '2020-09-15 23:59:59');

-- RECUPERAR BKP FORMA 2

FOR ENC_INI, ENC_FIM, IDABASTECIMENTO
    SELECT QT_ENC_INI, QT_ENC_FIM, ID_ABASTECIMENTO FROM ABASTECIMENTO 
    WHERE DT_EMISSAO BETWEEN '2020-01-01' AND '2020-09-15 23:59:59'
LOOP
    UPDATE ABASTECIMENTO SET 
        QT_ENC_INI = ENC_INI,
        QT_ENC_FIM - ENC_FIM
    WHERE ID_ABASTECIMENTO = IDABASTECIMENTO;
END LOOP;